"use strict";var u=function(r,e){return function(){return e||r((e={exports:{}}).exports,e),e.exports}};var m=u(function(de,P){P.exports={objectMode:!1,encoding:null,allowHalfOpen:!1,writableObjectMode:!1,sep:null}});var q=u(function(ge,O){
var R=require('@stdlib/assert-is-plain-object/dist'),f=require('@stdlib/assert-has-own-property/dist'),h=require('@stdlib/assert-is-boolean/dist').isPrimitive,W=require('@stdlib/assert-is-nonnegative-number/dist').isPrimitive,w=require('@stdlib/assert-is-string/dist').isPrimitive,C=require('@stdlib/assert-is-regexp/dist'),l=require('@stdlib/error-tools-fmtprodmsg/dist');function F(r,e){return R(e)?f(e,"sep")&&(r.sep=e.sep,!w(r.sep)&&!C(r.sep))?new TypeError(l('1MRAB',"sep",r.sep)):f(e,"objectMode")&&(r.objectMode=e.objectMode,!h(r.objectMode))?new TypeError(l('1MR2o',"objectMode",r.objectMode)):f(e,"writableObjectMode")&&(r.writableObjectMode=e.writableObjectMode,!h(r.writableObjectMode))?new TypeError(l('1MR2o',"writableObjectMode",r.writableObjectMode)):f(e,"encoding")&&(r.encoding=e.encoding,!w(r.encoding))?new TypeError(l('1MR2W',"encoding",r.encoding)):f(e,"allowHalfOpen")&&(r.allowHalfOpen=e.allowHalfOpen,!h(r.allowHalfOpen))?new TypeError(l('1MR2o',"allowHalfOpen",r.allowHalfOpen)):f(e,"highWaterMark")&&(r.highWaterMark=e.highWaterMark,!W(r.highWaterMark))?new TypeError(l('1MR4k',"highWaterMark",r.highWaterMark)):null:new TypeError(l('1MR2V',e));}O.exports=F
});var x=u(function(ve,y){
var J=require("debug"),V=J("split-stream");y.exports=V
});var M=u(function(he,j){
var k=require('@stdlib/buffer-from-string/dist');function A(r,e){return e==="utf8"||e==="buffer"?r:(r=k(r),e?r.toString(e):r.toString())}j.exports=A
});var v=u(function(be,S){
var _=require("readable-stream").Transform,B=require('@stdlib/object-assign/dist'),D=require('@stdlib/utils-inherit/dist'),b=require('@stdlib/utils-define-nonenumerable-property/dist'),g=require('@stdlib/utils-define-nonenumerable-read-only-property/dist'),L=require('@stdlib/buffer-ctor/dist'),U=require('@stdlib/utils-next-tick/dist'),z=m(),G=q(),i=x(),c=M(),K=/\r?\n/;function Q(r,e,t){var a,n,o,d;if(this._idx+=1,i("Received a new chunk. Chunk: %s. Encoding: %s. Index: %d.",r.toString(),e,this._idx),e==="buffer"?r=r.toString():e!=="utf8"&&(r=new L(r,e),r=r.toString("utf8")),a=r.split(this._sep),i("Splits: %s. Index: %d.",JSON.stringify(a),this._idx),o=a.length-1,i("%s splits. Index: %d.",o,this._idx),o===0)i("No splits. Index: %d.",this._idx),this._buffer+=a[o];else{for(i("Processing splits. Index: %d.",this._index),n=this._buffer+a[0],n=c(n,e),i("Split %d: %s. Index: %d.",0,n.toString(),this._idx),this.push(n,e),d=1;d<o;d++)n=c(a[d],e),i("Split %d: %s. Index: %d.",d,n.toString(),this._idx),this.push(n,e);i("Remaining split: %s.",a[o].toString()),this._buffer=a[o]}t()}function X(r){var e=this._buffer;e&&(i("Processing final split..."),e=c(e,this._encoding),this.push(e,this._encoding)),i("Flushing the stream..."),r()}function Y(r){var e;if(this._destroyed)return i("Attempted to destroy an already destroyed stream."),this;return e=this,this._destroyed=!0,U(t),this;function t(){r&&(i("Stream was destroyed due to an error. Error: %s.",JSON.stringify(r)),e.emit("error",r)),i("Closing the stream..."),e.emit("close")}}function s(r){var e,t;if(!(this instanceof s))return arguments.length?new s(r):new s;if(e=B({},z),arguments.length&&(t=G(e,r),t))throw t;return e.readableObjectMode=!0,e.decodeStrings=!1,i("Creating a transform stream configured with the following options: %s.",JSON.stringify(e)),_.call(this,e),g(this,"_sep",e.sep===null?K:e.sep),b(this,"_destroyed",!1),g(this,"_encoding",e.encoding),b(this,"_buffer",""),b(this,"_idx",-1),this}D(s,_);g(s.prototype,"_transform",Q);g(s.prototype,"_flush",X);g(s.prototype,"destroy",Y);S.exports=s
});var T=u(function(ce,E){
var Z=require('@stdlib/assert-is-plain-object/dist'),$=require('@stdlib/error-tools-fmtprodmsg/dist'),ee=require('@stdlib/object-assign/dist'),re=v();function ie(r){var e;if(arguments.length){if(!Z(r))throw new TypeError($('1MR2V',r));e=ee({},r)}else e={};return e.objectMode=!0,new re(e)}E.exports=ie
});var H=u(function(pe,N){
var te=require('@stdlib/assert-is-plain-object/dist'),ae=require('@stdlib/error-tools-fmtprodmsg/dist'),ne=require('@stdlib/object-assign/dist'),se=v();function oe(r){var e;if(arguments.length){if(!te(r))throw new TypeError(ae('1MR2V',r));e=ne({},r)}else e={};return t;function t(){return new se(e)}}N.exports=oe
});var I=require('@stdlib/utils-define-nonenumerable-read-only-property/dist'),p=v(),ue=T(),le=H();I(p,"objectMode",ue);I(p,"factory",le);module.exports=p;
/** @license Apache-2.0 */
//# sourceMappingURL=index.js.map
